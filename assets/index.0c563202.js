var O=Object.defineProperty,A=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var D=(t,e,n)=>e in t?O(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b=(t,e)=>{for(var n in e||(e={}))E.call(e,n)&&D(t,n,e[n]);if(C)for(var n of C(e))Y.call(e,n)&&D(t,n,e[n]);return t},y=(t,e)=>A(t,P(e));import{_ as p,P as q,r as m,o as l,c as d,a as r,b as h,d as S,u as V,t as v,w as B,v as $,n as I,F as X,e as U,f as x,g as W,h as f,i as Z,j as M,k as R,l as w,p as H,m as K,q as F,S as L,s as N,x as J,y as Q,z as G,A as ee,B as te}from"./vendor.08da6f7b.js";const ne=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}};ne();var j="/SAI360/assets/logo.5e1fb2f0.svg";const ie={name:"Header",components:{PlusBoxIcon:q}},oe={class:"flex flex-row content-center bg-zinc-700"};function ae(t,e,n,i,o,a){const s=m("plus-box-icon");return l(),d("header",oe,[r("img",{onClick:e[0]||(e[0]=u=>t.$router.push({name:"Main"})),src:j,alt:"logo",class:"p-4"}),t.$route.name==="Main"?(l(),h(s,{key:0,size:36,class:"py-4",fillColor:"#FFFFFF",onClick:e[1]||(e[1]=u=>t.$emit("open-film-dialog"))})):S("",!0)])}var se=p(ie,[["render",ae]]);const re={name:"Footer"},le={class:"flex flex-row content-center bg-zinc-700"};function ce(t,e,n,i,o,a){return l(),d("footer",le,[r("img",{onClick:e[0]||(e[0]=s=>t.$router.push({name:"Main"})),src:j,alt:"logo",class:"p-4"})])}var de=p(re,[["render",ce]]);const me={props:{type:{type:String,default:"text"},value:{type:String,default:""},name:{type:String,required:!0},label:{type:String,required:!0},successMessage:{type:String,default:""},placeholder:{type:String,default:""}},setup(t){const{value:e,errorMessage:n,handleBlur:i,handleChange:o,meta:a}=V(t.name,void 0,{initialValue:t.value});return{handleChange:o,handleBlur:i,errorMessage:n,inputValue:e,meta:a}}},ue=["for"],ge=["name","id","type","value","placeholder"];function pe(t,e,n,i,o,a){return l(),d("div",{class:I(["TextInput",{"has-error":!!i.errorMessage,success:i.meta.valid}])},[r("label",{for:n.name},v(n.label),9,ue),r("input",{name:n.name,id:n.name,type:n.type,value:i.inputValue,placeholder:n.placeholder,onInput:e[0]||(e[0]=(...s)=>i.handleChange&&i.handleChange(...s)),onBlur:e[1]||(e[1]=(...s)=>i.handleBlur&&i.handleBlur(...s))},null,40,ge),B(r("p",{class:"help-message"},v(i.errorMessage||n.successMessage),513),[[$,i.errorMessage||i.meta.valid]])],2)}var fe=p(me,[["render",pe],["__scopeId","data-v-bc7e6ddc"]]);const ve={props:{type:{type:String,default:"text"},value:{type:String,default:""},name:{type:String,required:!0},label:{type:String,required:!0},successMessage:{type:String,default:""},placeholder:{type:String,default:""}},setup(t){const{value:e,errorMessage:n,handleBlur:i,handleChange:o,meta:a}=V(t.name,void 0,{initialValue:t.value});return{handleChange:o,handleBlur:i,errorMessage:n,inputValue:e,meta:a}}},_e=["for"],he=["name","id","value","placeholder"];function be(t,e,n,i,o,a){return l(),d("div",{class:I(["TextInput",{"has-error":!!i.errorMessage,success:i.meta.valid}])},[r("label",{for:n.name},v(n.label),9,_e),r("textarea",{name:n.name,id:n.name,value:i.inputValue,placeholder:n.placeholder,onInput:e[0]||(e[0]=(...s)=>i.handleChange&&i.handleChange(...s)),onBlur:e[1]||(e[1]=(...s)=>i.handleBlur&&i.handleBlur(...s))},null,40,he),B(r("p",{class:"help-message"},v(i.errorMessage||n.successMessage),513),[[$,i.errorMessage||i.meta.valid]])],2)}var Me=p(ve,[["render",be],["__scopeId","data-v-efd0bf30"]]);function xe(t){let e=!0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let i=Math.random()*16|0,o;return e?(e=!1,o=String.fromCharCode(97+Math.floor(Math.random()*26))):n==="x"?o=i:o=i&3|8,o.toString(16)})}const ye={name:"EditMovieInfoForm",components:{TextArea:Me,TextInput:fe,Form:X},props:{movieItem:{type:Object,default:{}}},setup({movieItem:t},{emit:e}){const n=a=>{e("set-movie",{Title:a.title,Year:a.year,Runtime:a.runtime,Poster:a.link,Description:a.description,IMDbRating:a.rating,ClientRating:t.ClientRating?t.ClientRating:null,id:t.id?t.id:xe()}),e("close-dialog")},i=()=>{const a=document.querySelector(".submit-btn");a.classList.add("invalid"),setTimeout(()=>{a.classList.remove("invalid")},1e3),e("close-dialog")},o=U().shape({title:x().required(),link:x().trim().matches(/(http)?s?:?(\/\/[^"']*\.(?:png|jpg|jpeg|gif|png|svg))/,"Is not in correct format"),year:x().required(),runtime:x().required(),rating:W().max(5).required(),description:x().min(5).required()});return{onSubmit:n,schema:o,onInvalidSubmit:i,formItems:[{label:"Movie title",value:t.Title,placeholder:"Movie title",name:"title"},{label:"Poster link",value:t.Poster,placeholder:"https://example.com",name:"link"},{label:"Year",value:t.Year,placeholder:"Year",name:"year"},{label:"Runtime",value:t.Runtime,placeholder:"Runtime",name:"runtime"},{label:"IMDb rating",value:t.IMDbRating,placeholder:"IMDb rating",name:"rating"}],description:{label:"Description",value:t.Description,name:"description"}}}},Ie=t=>(H("data-v-6e696354"),t=t(),K(),t),Se={class:"flex flex-col grow"},Re=Ie(()=>r("div",{class:"flex"},[r("button",{class:"submit-btn cancel-btn mr-2"},"Cancel"),r("button",{class:"submit-btn",type:"submit"},"Submit")],-1));function we(t,e,n,i,o,a){const s=m("TextInput"),u=m("TextArea"),g=m("Form");return l(),d("div",{onClick:e[2]||(e[2]=(...c)=>i.onInvalidSubmit&&i.onInvalidSubmit(...c)),class:"movie-form fixed z-50 top-0 right-0 bottom-0 left-0 flex justify-center align-center"},[r("div",{onClick:e[1]||(e[1]=M(()=>{},["stop"])),class:"bg-white m-10 p-4 rounded w-9/12 max-w-[500px] overflow-scroll"},[f(g,{onSubmit:i.onSubmit,"validation-schema":i.schema,onInvalidSubmit:i.onInvalidSubmit},{default:Z(()=>[(l(!0),d(R,null,w(i.formItems,(c,_)=>(l(),d("div",{key:_,class:"movie-form__block"},[r("div",Se,[f(s,{modelValue:c.value,"onUpdate:modelValue":z=>c.value=z,label:c.label,name:`${c.name}`,id:_,type:"text",value:c.value,placeholder:c.placeholder},null,8,["modelValue","onUpdate:modelValue","label","name","id","value","placeholder"])])]))),128)),f(u,{modelValue:i.description.value,"onUpdate:modelValue":e[0]||(e[0]=c=>i.description.value=c),label:i.description.label,name:`${i.description.name}`,id:"description",value:i.description.value,placeholder:i.description.placeholder},null,8,["modelValue","label","name","value","placeholder"]),Re]),_:1},8,["onSubmit","validation-schema","onInvalidSubmit"])])])}var ke=p(ye,[["render",we],["__scopeId","data-v-6e696354"]]);const Ce={name:"App",components:{Header:se,Footer:de,MovieInfoForm:ke},data(){return{isDialogVisible:!1}},methods:y(b({},F("moduleMovies",["addNewMovie"])),{setMovie(t){this.addNewMovie(t),this.isDialogVisible=!1}})},De={class:"h-full flex flex-col"};function Te(t,e,n,i,o,a){const s=m("Header"),u=m("MovieInfoForm"),g=m("RouterView"),c=m("Footer");return l(),d("div",De,[f(s,{onOpenFilmDialog:e[0]||(e[0]=_=>o.isDialogVisible=!0)}),o.isDialogVisible?(l(),h(u,{key:0,onCloseDialog:e[1]||(e[1]=_=>o.isDialogVisible=!1),onSetMovie:e[2]||(e[2]=_=>a.setMovie(_))})):S("",!0),f(g),f(c)])}var Ve=p(Ce,[["render",Te]]);const Be="modulepreload",T={},$e="/SAI360/",Fe=function(e,n){return!n||n.length===0?e():Promise.all(n.map(i=>{if(i=`${$e}${i}`,i in T)return;T[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${a}`))return;const s=document.createElement("link");if(s.rel=o?"stylesheet":Be,o||(s.as="script",s.crossOrigin=""),s.href=i,document.head.appendChild(s),o)return new Promise((u,g)=>{s.addEventListener("load",u),s.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};const Le={name:"MovieRatingDialog.vue",props:{movieItem:{type:Object,default:{}}},components:{StarIcon:L,StarOutlineIcon:N},data(){return{rating:0,dialogState:[0,0,0,0,0]}},computed:{imdbRating(){return this.movieItem.IMDbRating},clientRating(){return this.movieItem.ClientRating},isDisabledSubmitBtn(){return this.rating>0}},watch:{rating(){this.dialogState=this.dialogState.map((t,e)=>e>=this.rating?0:1)}},beforeMount(){this.rating=this.movieItem.ClientRating||0},methods:y(b({},F("moduleMovies",["changeClientRating"])),{setRating(t){this.rating=t+1},saveRating(){!this.isDisabledSubmitBtn||(this.changeClientRating({id:this.movieItem.id,value:this.rating}),this.$emit("close-dialog"))}})},Ne={class:"rating-card flex"},je={class:"rating-card__inner flex flex-col m-auto"},ze={class:"flex self-center"},Oe=["onClick"],Ae={class:"self-end mt-4"};function Pe(t,e,n,i,o,a){const s=m("star-icon"),u=m("star-outline-icon");return l(),d("div",Ne,[r("div",je,[r("div",ze,[(l(!0),d(R,null,w(o.dialogState,(g,c)=>(l(),d("div",{class:"star",key:c},[r("button",{onClick:M(_=>a.setRating(c),["stop"]),class:I([{"ml-2":c>0},"flex"])},[o.dialogState[c]>0?(l(),h(s,{key:0,fillColor:"#87b0de"})):(l(),h(u,{key:1,fillColor:"#87b0de"}))],10,Oe)]))),128))]),r("div",Ae,[r("button",{class:"rounded-sm border border-red-500 mr-2 px-2 py-1",onClick:e[0]||(e[0]=M(g=>t.$emit("close-dialog"),["stop"]))}," Cancel "),r("button",{class:I(["border border-green-300 bg-green-300 rounded-sm text-white px-2 py-1",{"disabled-btn":!a.isDisabledSubmitBtn}]),onClick:e[1]||(e[1]=M((...g)=>a.saveRating&&a.saveRating(...g),["stop"]))}," Submit ",2)])])])}var Ee=p(Le,[["render",Pe],["__scopeId","data-v-81f241da"]]),Ye="/SAI360/assets/Movie.d3c13c01.jpeg";const qe={name:"MovieItem",props:{movieItem:{type:Object,default:{}}},components:{MovieRatingDialog:Ee,StarOutlineIcon:N,StarIcon:L},data(){return{isRatingDialogOpened:!1,imgIsValid:!0}},computed:{imdbRating(){return this.movieItem.IMDbRating},clientRating(){return this.movieItem.ClientRating}},beforeMount(){return this.readURL(this.movieItem.Poster)},methods:{async readURL(t){const n=await(await fetch(t)).blob();this.imgIsValid=n.type.startsWith("image/")}}},Xe={class:"movie-card flex flex-col relative grow"},Ue=["src","alt"],We=["alt"],Ze={class:"mb-4"},He={class:"movie-card-truncated-text text-2xl"},Ke={class:"movie-card-truncated-text movie-card-truncated-text-description text-base grow"},Je={class:"flex justify-between mt-4"},Qe={class:"flex flex-row"},Ge={class:"flex flex-row"};function et(t,e,n,i,o,a){const s=m("star-icon"),u=m("star-outline-icon"),g=m("MovieRatingDialog");return l(),d("div",Xe,[n.movieItem.Poster&&o.imgIsValid?(l(),d("img",{key:0,ref:"blah",class:"mb-4",src:n.movieItem.Poster,alt:`${n.movieItem.Title} poster`},null,8,Ue)):(l(),d("img",{key:1,class:"mb-4",src:Ye,alt:`${n.movieItem.Title} poster`},null,8,We)),r("h2",Ze,[r("span",He,v(n.movieItem.Title),1)]),r("span",Ke,v(n.movieItem.Description),1),r("div",Je,[r("div",Qe,[f(s,{class:"mr-2",fillColor:"orange"}),r("span",null,v(a.imdbRating),1)]),r("div",Ge,[r("button",{class:"flex mr-2",onClick:e[0]||(e[0]=M(c=>o.isRatingDialogOpened=!o.isRatingDialogOpened,["stop"]))},[a.clientRating?(l(),h(s,{key:0,fillColor:"#87b0de"})):(l(),h(u,{key:1,fillColor:"#87b0de"}))]),r("span",null,v(a.clientRating),1)])]),o.isRatingDialogOpened?(l(),h(g,{key:2,onClick:e[1]||(e[1]=M(()=>{},["stop"])),onCloseDialog:e[2]||(e[2]=c=>o.isRatingDialogOpened=!1),class:"absolute",movieItem:n.movieItem},null,8,["movieItem"])):S("",!0)])}var tt=p(qe,[["render",et],["__scopeId","data-v-4aac400c"]]);const nt={name:"MoviesList",components:{MovieItem:tt},computed:b({},J("moduleMovies",["moviesList"]))},it={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 max-w-[1350px]"};function ot(t,e,n,i,o,a){const s=m("MovieItem");return l(),d("div",it,[(l(!0),d(R,null,w(t.moviesList,(u,g)=>(l(),d("div",{key:g,class:"flex"},[f(s,{onClick:c=>t.$router.push({name:"MoviePage",params:{movieId:u.id}}),"movie-item":u},null,8,["onClick","movie-item"])]))),128))])}var at=p(nt,[["render",ot]]);const st={name:"Main",components:{MoviesList:at}},rt={class:"flex justify-center p-4"};function lt(t,e,n,i,o,a){const s=m("MoviesList");return l(),d("div",rt,[f(s)])}var ct=p(st,[["render",lt]]);const dt=[{path:"/",name:"Main",component:ct},{path:"/movie/:movieId",name:"MoviePage",component:()=>Fe(()=>import("./Page.07c153cf.js"),["assets/Page.07c153cf.js","assets/vendor.08da6f7b.js"])}],mt=Q({history:G("/SAI360/"),routes:dt}),ut=[{Title:"The Lion King",Year:"2019",Runtime:"118 min",Poster:"https://m.media-amazon.com/images/M/MV5BMjIwMjE1Nzc4NV5BMl5BanBnXkFtZTgwNDg4OTA1NzM@._V1_SX300.jpg",Description:"Disney's The Lion King is about a young lion named Simba, who is the crown prince of an African Savanna. When his father dies in an accident staged by his uncle, Simba is made to feel responsible for his father's death and must overcome his fear of taking responsibility as the rightful heir to the throne.",IMDbRating:"5.7",ClientRating:"5",id:"a728844d-5747-4168-9ca4-68aca657ce49"},{Title:"Mowgli: Legend of the Jungle",Year:"2018",Runtime:"104 min",Poster:"https://m.media-amazon.com/images/M/MV5BMjMzODc2NzU5MV5BMl5BanBnXkFtZTgwNTMwMTE3NjM@._V1_SX300.jpg",Description:"A human child raised by wolves must face off against a menacing tiger named Shere Khan, as well as his own origins. A human child raised by wolves must face off against a menacing tiger named Shere Khan, as well as his own origins.",IMDbRating:"4.9",ClientRating:null,id:"z89f1872-5318-4009-af76-b72742079ff8"},{Title:"Doctor Strange",Year:"2016",Runtime:"115 min",Poster:"https://m.media-amazon.com/images/M/MV5BNjgwNzAzNjk1Nl5BMl5BanBnXkFtZTgwMzQ2NjI1OTE@._V1_SX300.jpg",Description:`Marvel's "Doctor Strange" follows the story of the talented neurosurgeon Doctor Stephen Strange who, after a tragic car accident, must put ego aside and learn the secrets of a hidden world of mysticism and alternate dimensions.`,IMDbRating:"4.1",ClientRating:null,id:"z231b46d-b97d-48f6-b907-da4cd4f6a8c6"},{Title:"John Wick",Year:"2014",Runtime:"101 min",Poster:"https://m.media-amazon.com/images/M/MV5BMTU2NjA1ODgzMF5BMl5BanBnXkFtZTgwMTM2MTI4MjE@._V1_SX300.jpg",Description:"The story focuses on John Wick (Reeves) searching for the men who broke into his home, stole his vintage car and killed his puppy, which was a last gift to him from his recently deceased wife. Chad Stahelski and David Leitch directed the film together, though only Stahelski was credited.",IMDbRating:"3.1",ClientRating:null,id:"h541ad3d-0273-4f3a-8907-96ef368729e8"},{Title:"The Godfather",Year:"1972",Runtime:"123 min",Poster:"https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg",Description:"The aging patriarch of an organized crime dynasty in postwar New York City transfers control of his clandestine empire to his reluctant youngest son.",IMDbRating:"3.8",ClientRating:null,id:"h6107067-7154-4ba3-b723-79034d69b41a"}],gt={namespaced:!0,state:()=>({moviesList:[...ut]}),mutations:{addNewMovie:(t,e)=>t.moviesList=[e,...t.moviesList],editMovie:(t,e)=>t.moviesList=t.moviesList.map(n=>n.id===e.id?b({},e):n),changeClientRating:(t,e)=>t.moviesList=t.moviesList.map(n=>n.id===e.id?y(b({},n),{ClientRating:e.value}):n)}},pt=ee({namespaced:!0,modules:{moduleMovies:gt}});const k=te(Ve);k.use(mt);k.use(pt);k.mount("#app");export{ke as E};
